🏗️ ARQUITETURA DO SISTEMA DESMENTAI
=====================================

┌─────────────────────────────────────────────────────────────────────────────────┐
│                           🖥️ INTERFACE STREAMLIT                              │
│                              (app.py)                                         │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        🧠 DESMENTAI CORE                                      │
│                    (src/core/desmentai.py)                                    │
│                    • Orquestrador principal                                   │
│                    • Gerenciamento de fluxo                                   │
│                    • Inicialização de componentes                             │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        👑 SUPERVISOR AGENT                                    │
│                    (src/agents/supervisor.py)                                 │
│                    • Roteamento de consultas                                  │
│                    • Decisão de fluxo de agentes                              │
│                    • Análise inicial da query                                 │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        🔍 RETRIEVER AGENT                                     │
│                   (src/agents/retriever_agent.py)                             │
│                   • Busca híbrida (local + web)                               │
│                   • Salvamento de documentos web                              │
│                   • Extração de afirmações principais                         │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        ✅ SELF-CHECK AGENT                                    │
│                  (src/agents/self_check_agent.py)                             │
│                  • Verificação de evidências                                  │
│                  • Classificação de qualidade                                  │
│                  • Determinação de confiança                                   │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        💬 ANSWER AGENT                                        │
│                    (src/agents/answer_agent.py)                               │
│                    • Geração de respostas                                     │
│                    • Filtragem de fontes                                      │
│                    • Extração de citações                                     │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                        🛡️ SAFETY AGENT                                        │
│                   (src/agents/safety_agent.py)                                │
│                   • Revisão de segurança                                      │
│                   • Aprovação/modificação                                     │
│                   • Garantia de qualidade final                               │
└─────────────────────┬───────────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────────┐
│                           🖥️ RESPOSTA FINAL                                  │
│                    • Resposta estruturada                                     │
│                    • Fontes utilizadas                                        │
│                    • Citações e referências                                   │
│                    • Nível de confiança                                       │
└─────────────────────────────────────────────────────────────────────────────────┘

🔗 COMPONENTES DE DADOS
=======================

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   📚 DADOS      │───▶│  📄 DOCUMENT    │───▶│  🗄️ VECTOR      │
│   LOCAIS        │    │  PROCESSOR      │    │  STORE (FAISS)  │
│ (data/raw/*.txt)│    │                 │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │                        ▲
                                ▼                        │
                       ┌─────────────────┐               │
                       │  🧮 EMBEDDING   │───────────────┘
                       │  MANAGER        │
                       │ (all-MiniLM-L6) │
                       └─────────────────┘

┌─────────────────┐    ┌─────────────────┐
│   🌐 WEB        │───▶│  🔍 RETRIEVER   │
│   SEARCH        │    │  AGENT          │
│ (Tavily API)    │    │                 │
└─────────────────┘    └─────────────────┘

🤖 MODELOS DE IA
================

┌─────────────────┐    ┌─────────────────┐
│  🤖 GOOGLE      │    │  🤖 OPENAI      │
│  GEMINI 2.0     │    │  GPT-3.5-TURBO  │
│  FLASH          │    │                 │
│  (Agentes)      │    │  (RAGAS)        │
└─────────────────┘    └─────────────────┘

📊 AVALIAÇÃO RAGAS
==================

┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│  📊 RAGAS       │───▶│  📈 MÉTRICAS    │───▶│  📋 RELATÓRIOS  │
│  EVALUATOR      │    │  DE QUALIDADE   │    │  (MD + JSON)    │
└─────────────────┘    └─────────────────┘    └─────────────────┘

🎯 FLUXO DE DADOS
=================

1. 📥 ENTRADA: Usuário insere consulta
2. 🔄 PROCESSAMENTO: 
   - Supervisor → Retriever → Self-Check → Answer → Safety
3. 📤 SAÍDA: Resposta estruturada com evidências

🔧 CONFIGURAÇÃO
===============

• MODEL_NAME=gemini-2.0-flash
• GEMINI_API_KEY=your_key_here
• OPENAI_API_KEY=your_key_here (RAGAS)
• TAVILY_API_KEY=your_key_here (Web search)
• EMBEDDING_MODEL=all-MiniLM-L6-v2

📈 MÉTRICAS DE PERFORMANCE
==========================

• Faithfulness: 0.384 (Fidelidade às fontes)
• Answer Relevancy: 0.326 (Relevância da resposta)
• Context Precision: 0.775 ✅ (Precisão do contexto)
• Context Recall: 0.650 (Cobertura do contexto)
• Answer Correctness: 0.428 (Correção da resposta)

🚀 CARACTERÍSTICAS ÚNICAS
=========================

• 🔄 Busca híbrida inteligente (local + web)
• 🎯 Agentes especializados com LangGraph
• 📈 Avaliação contínua com RAGAS
• 💾 Salvamento automático de documentos web
• 🛡️ Revisão de segurança robusta
• 📊 Relatórios detalhados de performance

---
DesmentAI - Combatendo fake news com inteligência artificial! 🚀
